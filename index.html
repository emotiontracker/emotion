<!DOCTYPE html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <title></title>
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui, maximum-scale=1.0, user-scalable=0">
        <meta http-equiv="cleartype" content="on">

        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/touch/apple-touch-icon-144x144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/touch/apple-touch-icon-114x114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/touch/apple-touch-icon-72x72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="img/touch/apple-touch-icon-57x57-precomposed.png">
        <link rel="shortcut icon" sizes="196x196" href="img/touch/touch-icon-196x196.png">
        <link rel="shortcut icon" href="img/touch/apple-touch-icon.png">
        <link rel="icon" type="image/png" href="favicon.png">

        <!-- Tile icon for Win8 (144x144 + tile color) -->
        <meta name="msapplication-TileImage" content="img/touch/apple-touch-icon-144x144-precomposed.png">
        <meta name="msapplication-TileColor" content="#222222">

        <!-- SEO: If mobile URL is different from desktop URL, add a canonical link to the desktop page -->
        <!--
        <link rel="canonical" href="http://www.example.com/" >
        -->


        <meta name="mobile-web-app-capable" content="yes">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="Pleasure Tracker">

        <!-- This script prevents links from opening in Mobile Safari. https://gist.github.com/1042026 -->
        <!--
        <script>(function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone")</script>
        -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.7.1.min.js"></script>
    </head>
    <body>

        <div class="wrapper">
            <div id="startPage" >
                <div id="logo"></div>
                <div>
                    <input id="name" class="inpt" type="text" placeholder="Enter your name" value="X"/>
                </div>
                <div>
                    <input id="experiment" class="inpt" type="text" placeholder="Enter experiment name" value="Y"/>
                </div>
                <div>
                    <input class="btn btn-primary btn-wide" id="startSubmit" type="submit" value="Continue"/>
                </div>
                <button id="btnSettings" class=""><div class="ico-settings"></div></button>
            </div>

            <div id="settingsPage" style="display:none;opacity:0">
                <div class="settings-wrapper">
                    <h2>Settings</h2>
                    <div class="field">
                        <label for="email" class="lbl">Email of the Experimenter</label>
                        <input id="email" type="email" class="inpt" placeholder="" />
                    </div>
                    <div class="field">
                        <label for="email" class="lbl">Experiment Duration <span class="light"> (in seconds)</span></label>
                        <input id="duration" type="text" value="120" class="inpt" pattern="[0-9]*"/>
                    </div>

                    <div class="field">
                        <label for="email" class="lbl">Pre Calibration Steps</label>
                        <input id="preSteps" type="text" value="2" class="inpt" pattern="[0-9]*" />
                    </div>

                    <div class="field">
                        <label for="email" class="lbl">Post Calibration Steps</label>
                        <input id="postSteps" type="text" value="1" class="inpt" pattern="[0-9]*" />
                    </div>

                    <div class="field">
                        <label for="email" class="lbl">Rating Interval <span class="light"> (in seconds)</span></label>
                        <input id="ratingInterval" type="text" value="1" class="inpt" pattern="[0-9]*" />
                    </div>

                    <div class="field">
                        <label for="email" class="lbl">Feedback</label>
                        <div class="field-check">
                            <label class="lbl">Barbell</label>
                            <span class="chkbox"><input id="feedBarbell" type="checkbox" /></span>
                        </div>
                        <div class="field-check">
                            <label class="lbl">Range</label>
                            <span class="chkbox"><input id="feedRange" type="checkbox" /></span>
                        </div>
                        <div class="field-check">
                            <label class="lbl">Numeric</label>
                            <span class="chkbox"><input id="feedNumeric" type="checkbox" /></span>
                        </div>
                        <div class="field-check">
                            <label class="lbl">Auditory</label>
                            <span class="chkbox"><input id="feedAuditory" type="checkbox" /></span>
                        </div>
                        <div class="field-check">
                            <label class="lbl">Tactile</label>
                            <span class="chkbox"><input id="feedTactile" type="checkbox" /></span>
                        </div>
                    </div>    

                    <div class="field">
                        <div class="field-check">
                            <label class="lbl">Post Calibration in Median</label>
                            <span class="chkbox"><input id="postInMedian" type="checkbox" /></span>
                        </div>
                    </div>  
                </div>            

                <div class="fixed-wrapper">
                    <input class="btn btn-primary" id="saveSubmit" type="submit" value="Save"/>
                    <input class="btn" id="cancelSubmit" type="submit" value="Cancel"/>
                </div>                                
            </div>

            <div id="calibrationPage" style="display:none;opacity:0">
                <div id="calibTitle" class="title"></div>
                <div id="calibTracker"></div>
                <div id="calibInstr"></div>
                <div id="calibComplete" class="page page-center" style="display:none">
                    <div style="height:35px">Calibration Complete</div>
                    <div style="height:90px;">
                        <button id="btnExp" class="btn btn-primary" style="width:150px">Continue</button>
                        <!-- <button id="btnRetry" class="btn" style="padding: 6px 12px"><div class="ico-retry"></div></button> -->
                    </div>
                </div>
            </div>

            <div id="experimentPage" style="display:none;opacity:0">
                <div id="feedbacks">
                    <div id="numericFeedback"></div>
                    <div id="rangeFeedback"></div>
                </div>
                <div id="expTitle" class="title">Place two fingers to begin the experiment.</div>
            </div>

            <div id="completePage" class="page page-center" style="display:none; opacity:0">
                <div id="completeMessage" style="height:40px">Thank you for your time</div>
                <div id="completeButtons" style="height:90px;opacity:0">
                    <a id="btnReSend" class="btn" href="#">Resend Data</a>
                    <!-- <button class="btn btn-primary">New Experiment<</button> -->
                </div>
            </div>

            <div id="changeOrient" style="display:none">
                <div class="landscapeText" style="top:120px">Rotate your device</div>
                <div id="landscape"></div>
                <div class="landscapeText" style="bottom:120px">to landscape mode</div>
            </div>
        </div>

        <script src="js/vendor/jquery-2.1.0.min.js"></script>
        <script src="js/vendor/raphael-min.js"></script>
        <script src="js/helper.js"></script>
        <script src="js/plugins.js"></script>
        <script src="js/util.js"></script>
        <script src="js/main.js"></script>
        

<script type="text/plain" id="data_tmpl">
Experiment:,<%=name%>\n
Observer:,<%=experiment%>\n
URL:,<%=url%>\n
Time Zero:,<%=experimentTime.toString()%>\n
Time since 1/1/70 (s):,<%=(absoluteTime / 1000).toFixed(2)%>\n
Device:,<%=device%>\n
Location ("longitude, latitude"):,<%=('"' + (location.long || 0) + ', ' + (location.lat || 0) + '"') %>\n
Interval between ratings (s):,<%=(sampleInterval/1000)%>\n
Requested duration (s):,<%=duration%>\n
Recorded duration (s):,<%=durationActual%>\n
Pre max distance (pix):,<%=preMaxDist.join(",")%>\n
Pre min distance (pix):,<%=preMinDist.join(",")%>\n
Post max distance (pix):,<%=postMaxDist.join(",")%>\n
Post min distance (pix):,<%=postMinDist.join(",")%>\n
Median max distance (pix):,<%=medianMaxDist%>\n
Median min distance (pix):,<%=medianMinDist%>\n
Rating (0 to 10):,<%=ratings.join(",")%>\n
Time (s):,<%=Array.apply(null, {length: durationActual + 1}).map(Number.call, Number).slice(1).join(",")%>\n\n
Feedback Barbell:,<%=feedback.barbell%>\n
Feedback Range:,<%=feedback.range%>\n
Feedback Numeric:,<%=feedback.numeric%>\n
Feedback Auditory:,<%=feedback.auditory%>\n
Feedback Tactile:,<%=feedback.tactile%>\n\n
Include Post Calibration in Median:,<%=postInMedian%>
</script>       


    </body>
</html>
